console.log("functions ready");document.querySelector(".js-page");const L=document.querySelector(".js-search-btn"),f=document.querySelector(".js-search-input"),p=document.querySelector(".js-reset-btn"),d=document.querySelector(".js-drinks-list"),k=document.querySelector(".js-search-warning"),h=document.querySelector(".js-fav-drinks-list");document.querySelectorAll(".js-drink");const l=document.querySelector(".js-delete-all-favs");l.innerHTML='<i class="fa-solid fa-circle-xmark"></i>Borrar todos mis favoritos';let c=[],i=[];const _=n=>{const e=n.currentTarget.parentElement.id,s=i.findIndex(t=>t.idDrink===e);d.querySelectorAll(".js-drinks-list li").forEach(t=>{t.id===e&&t.classList.remove("fav__drink")}),i.splice(s,1),m(),localStorage.setItem("favUserDrinks",JSON.stringify(i)),i.length===0&&l.classList.add("hidden")},m=()=>{l.classList.remove("hidden"),h.innerHTML="";for(const e of i){const s=e.strDrink,r=e.strDrinkThumb,t=e.idDrink;h.innerHTML+=`
            <li class="drinks__section--item js-drink" id="${t}">
                <span class="drink__delete js-delete"><i class="fas fa-times"></i></span>
                <img class="drink__img" src="${r}" alt="${s}">
                <h3 class="drink__name">${s}</h3>
            </li>
        `}document.querySelectorAll(".js-delete").forEach(e=>{e.addEventListener("click",_)}),i.length===0&&l.classList.add("hidden")},S=n=>{console.log(n.currentTarget.id);const e=n.currentTarget.id,s=c.find(t=>t.idDrink===e);console.log(s.strDrink);const r=i.findIndex(t=>t.idDrink===e);if(r!==-1){const t=document.querySelector(".js-delete");t.addEventListener("click",t),i.splice(r,1),n.currentTarget.classList.remove("fav__drink")}else s&&s.idDrink&&(n.currentTarget.classList.add("fav__drink"),i.push(s));m(),localStorage.setItem("favUserDrinks",JSON.stringify(i)),i.length===0&&l.classList.add("hidden")},u=n=>{d.innerHTML="";for(const e of n){const s=e.strDrink;let r=e.strDrinkThumb;r||(r="http://via.placeholder.com/100x100");const t=e.idDrink;let g=e.strAlcoholic,a="";g==="Non alcoholic"?a="sin":a="con";const o=document.createElement("li");o.classList.add("drinks__section--item"),o.id=t,i.some(D=>D.idDrink===t)&&o.classList.add("fav__drink"),o.innerHTML=`
            <img class="drink__img" src="${r}" alt="${s}">
            <h3 class="drink__name">${s}</h3>
            <p class="drink__alcohol">${a} alcohol</p>
        `,o.addEventListener("click",S),d.appendChild(o)}},j=()=>{const n=f.value;fetch(`https://www.thecocktaildb.com/api/json/v1/1/search.php?s=${n}`).then(e=>e.json()).then(e=>{c=e.drinks,console.log(c),u(c),localStorage.setItem("drinks",JSON.stringify(c))})},I=n=>{n.preventDefault();const e=f.value;if(e==="")k.classList.remove("hidden"),k.innerHTML="Ups, parece que no has elegido un cocktail.<br>Introduce en el buscador el nombre de tu cocktail favorito.";else{k.classList.add("hidden");const s=c.filter(r=>r.strDrink.toLowerCase().includes(e.toLowerCase()));u(s),console.log(s),j()}},y=n=>{n.preventDefault(),i=[],localStorage.removeItem("favUserDrinks"),h.innerHTML="",i.length===0&&l.classList.add("hidden"),d.querySelectorAll(".js-drinks-list li").forEach(s=>{s.classList.remove("fav__drink")})};l.addEventListener("click",y);const v=()=>{const n=JSON.parse(localStorage.getItem("favUserDrinks"));n!==null&&(i=n,m()),fetch("https://www.thecocktaildb.com/api/json/v1/1/search.php?s=margarita").then(e=>e.json()).then(e=>{const s=e.drinks;console.log(s),u(s),c.push(...s)})},T=n=>{n.preventDefault(),f.value="",c=[],d.innerHTML="",v()};v();L.addEventListener("click",I);p.addEventListener("click",T);
//# sourceMappingURL=main.js.map
